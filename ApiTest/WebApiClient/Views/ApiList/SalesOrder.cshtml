
@{
    ViewBag.Title = "SalesOrder";
}

<h2>SalesOrder</h2>

<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>Description</th>
            <th>Api Method</th>
            <th>Link and parameters</th>
            <th>Request paylaod exemple</th>
            <th>Response paylaod exemple</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Get Sales Order list</td>
            <td>HTTP GET</td>
            <td>
                <ul>
                    <li>patientName=Name - Not mandatory - default is null</li>
                    <li>nbRow=10 - Not mandatory - default is 100</li>
                    <li>externalReferenceNumber= Webshop humand readable Order ID - Not mandatory - default is null</li>
                    <li>userTrigram=user that create the order, if from webshop will be webshop - Not mandatory - default is null</li>
                    <li>paymentType= c (cash) or i (Insurance) - Not mandatory - default is null</li>
                    <li>onlineOrderId= guid order Id coming from Online shop - Not mandatory - default is null</li>
                    <li>onlineOrderFulfillmentId= guid generated by OrderHub - Not mandatory - default is null</li>
                    <li>onlineSaleStatus= int could be 0,2,4,5,8 - Not mandatory - default is null</li>
                    <li>customerId= customer id is a int (could be partial)  - Not mandatory - default is null -</li>
                </ul>
                http://localhost/WebApiClient/Db/GetSalesOrder
            </td>
            <td>n/a</td>
            <td>
<pre><code>[
    {
    "SalesOrderId": "5c655cb5-403d-45b5-a67e-cf7fe64e352d",
    "Date": "/Date(1732839838000)/",
    "UserId": 88768,
    "SignedByUserId": null,
    "OfflineSalesOrderNumber": null,
    "OfflineBillNumber": null,
    "Duty": 0,
    "PaymentType": "C",
    "PosId": null,
    "CustomerRemark": null,
    "StockMovement": true,
    "TransactionType": 1,
    "PendingType": 6,
    "Status": 1,
    "ModifiedDate": "/Date(1732861478543)/",
    "PhysicianName": null,
    "UserTrigram": "Webshop",
    "TotalAmount": 16.50,
    "PatientName": "COVID Test",
    "PickUpNumber": null,
    "CustomerId": null,
    "ExternalReferenceNumber": "T1732861438",
    "EmployeeCardNumber": null,
    "DeliveryMode": 0,
    "OnlineSaleStatus": 2,
    "OnlineOrderId": "6643d471-46fd-4a4a-9288-7b2b7d2a45bb",
    "OnlineOrderFulfillmentId": "7ef4d667-1492-416f-992c-f1c92be4ad61",
    "Error": null
    },
    ...
]</code></pre>
            </td>
        </tr>
        <tr>
            <td>Set an Webshob order or Rx</td>
            <td>HTTP GET</td>
            <td>
                <ul>
                    <li>isDebug - Not mandatory - default is null</li>
                    <li>orderType - Mandatory - (NoPrescription/WithRepetition)</li>
                    <li>apiType - Not mandatory - default is "standard" - Rx</li>
                </ul>
                http://localhost/WebApiClient/RemoteService/OrderHubOrdersJson?isDebug=false&orderType=WithRepetition&apiType=Rx
            </td>
            <td>n/a</td>
            <td>
<pre><code>{
    "PharmacyGln": "7601001370944",
    "DataId": "827963ca-724f-4dcd-a993-f7dce9f8c97c",
    "OrderType": "NoPrescription",
    "Customer": {
    "FirstName": "Insti",
    "LastName": "TEST"
    }
}</code></pre>
            </td>
        </tr>
    </tbody>
</table>